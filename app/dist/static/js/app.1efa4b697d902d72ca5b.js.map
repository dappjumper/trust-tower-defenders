{"version":3,"sources":["webpack:///static/js/app.1efa4b697d902d72ca5b.js","webpack:///src/App.vue","webpack:///src/components/Hello.vue","webpack:///src/components/GameWindow.vue","webpack:///./src/main.js","webpack:///./src/App.vue","webpack:///./src/App.vue?630b","webpack:///./src/router/index.js","webpack:///./src/components/Hello.vue","webpack:///./src/components/GameWindow.vue","webpack:///./src/components/GameWindow.vue?3a86","webpack:///./src/components/Hello.vue?8c23"],"names":["webpackJsonp","module","__webpack_exports__","__webpack_require__","name","__WEBPACK_IMPORTED_MODULE_0__GameWindow_vue__","data","user","status","state","ready","components","GameWindow","mounted","this","tryWeb3","methods","setError","console","log","string","newState","logout","wuf","setJWT","tryLogin","api","address","enableWeb3","connectWeb3","then","signWeb3","getWeb3","getAddressLoop","setTimeout","props","document","querySelector","appendChild","app","view","ttdgame","setup","Vue","config","productionTip","el","router","template","App","injectStyle","ssrContext","normalizeComponent","__vue_styles__","Component","exports","render","_vm","_h","$createElement","_c","_self","attrs","_m","_v","staticRenderFns","esExports","use","Router","routes","path","component","Hello","_e","staticClass","_s","on"],"mappings":"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","file":"static/js/app.1efa4b697d902d72ca5b.js","sourcesContent":["webpackJsonp([0],[\n/* 0 */,\n/* 1 */,\n/* 2 */,\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'app'\n});\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__GameWindow_vue__ = __webpack_require__(18);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'tdd',\n  data: function data() {\n    return {\n      user: false,\n      status: \"\",\n      state: \"\",\n      ready: false\n    };\n  },\n\n  components: {\n    GameWindow: __WEBPACK_IMPORTED_MODULE_0__GameWindow_vue__[\"a\" /* default */]\n  },\n  mounted: function mounted() {\n    //Check for module dependencies\n    if (!window.Web3) return this.setError(\"Failed to load web3\", \"hasNoWeb3\");\n    if (!window.wuf) return this.setError(\"Failed to load user system\");\n    if (!window.PIXI) return this.setError(\"Failed to load graphics\");\n\n    //If in vuejs dev mode, change port\n    //Todo: dynamic\n    if (window.wuf.host.indexOf(':8080') > -1) window.wuf.host = \"http://localhost:3000\";\n    //Ready to check for user\n\n    var token = wuf.getJWT();\n    if (token) return this.tryLogin(token);\n    this.tryWeb3();\n  },\n\n  methods: {\n    setError: function setError(string, newState) {\n      console.log(string);\n      this.state = newState;\n    },\n    logout: function logout() {\n      this.user = false;\n      this.ready = false;\n      wuf.setJWT(null);\n      this.tryWeb3();\n    },\n    tryLogin: function tryLogin() {\n      var _this = this;\n\n      var user = wuf.getJWT();\n      wuf.api('user/' + user.address + '/profile').then(function (profile) {\n        _this.user = profile.user;\n        _this.ready = true;\n      }).catch(function () {\n        _this.user = false;\n        _this.ready = false;\n      });\n    },\n    enableWeb3: function enableWeb3() {\n      wuf.connectWeb3().then(function () {}).catch(function () {});\n    },\n    signWeb3: function signWeb3() {\n      var _this2 = this;\n\n      var address = this.user.address;\n\n      wuf.api('user/' + address).then(function (response) {\n        wuf.sign(address, response.challenge).then(function (signature) {\n          wuf.api('user/' + address + '/getjwt', address, {\n            signature: signature\n          }).then(function (response) {\n            if (response.error) {\n              //Could not get token\n\n            } else {\n              //Successfully got token\n              wuf.setJWT(response);\n              _this2.tryLogin();\n            }\n          }).catch(function (error) {\n            //API Failed\n          });\n        }).catch(function () {\n          //Signature failed\n        });\n      }).catch(function () {\n        //API Failed\n      });\n    },\n    tryWeb3: function tryWeb3() {\n      var _this3 = this;\n\n      wuf.getWeb3().then(function () {\n        _this3.state = \"enableWeb3\";\n        _this3.getAddressLoop();\n      }).catch(function () {\n        _this3.state = \"hasNoWeb3\";\n      });\n    },\n    getAddressLoop: function getAddressLoop() {\n      if (this.ready) return;\n      console.log(\"Loopering\");\n      if (wuf.hasVisibleAccount()) {\n        this.state = 'signWeb3';\n        this.user = { address: wuf.hasVisibleAccount() };\n      } else {\n        if (!web3) return this.state = \"hasNoWeb3\";\n        this.state = \"enableWeb3\";\n      }\n      setTimeout(this.getAddressLoop, 500);\n    }\n  }\n});\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'GameWindow',\n  props: [\"user\"],\n  data: function data() {\n    return {};\n  },\n  mounted: function mounted() {\n    var app = new PIXI.Application({ transparent: true, width: window.innerWidth, height: window.innerHeight, resolution: window.devicePixelRatio || 1 });\n    document.querySelector('#gameview').appendChild(app.view);\n    ttdgame.setup(app, this);\n  },\n\n  methods: {}\n});\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(14);\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  router: __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */],\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App__[\"a\" /* default */] }\n});\n\n/***/ }),\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(3);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_7ddc62d8_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(13);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(11)\n}\nvar normalizeComponent = __webpack_require__(1)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_7ddc62d8_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 12 */,\n/* 13 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_vm._m(0),_vm._v(\" \"),_c('main',[_c('router-view')],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',[_c('span',[_vm._v(\"Trust Tower Defense\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n/* 14 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Hello__ = __webpack_require__(16);\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  routes: [{\n    path: '/',\n    name: 'Hello',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_Hello__[\"a\" /* default */]\n  }]\n}));\n\n/***/ }),\n/* 15 */,\n/* 16 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Hello_vue__ = __webpack_require__(4);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_7d7639cc_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Hello_vue__ = __webpack_require__(21);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(17)\n}\nvar normalizeComponent = __webpack_require__(1)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Hello_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_7d7639cc_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Hello_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 18 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_GameWindow_vue__ = __webpack_require__(5);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_b84c6ad0_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_GameWindow_vue__ = __webpack_require__(20);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(19)\n}\nvar normalizeComponent = __webpack_require__(1)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_GameWindow_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_b84c6ad0_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_GameWindow_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 20 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"gameview\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n/* 21 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"appcontent\"}},[(_vm.ready)?_c('GameWindow',{attrs:{\"user\":_vm.user}}):_vm._e(),_vm._v(\" \"),(_vm.ready)?_c('div',{staticClass:\"inheader\"},[_c('span',[_vm._v(_vm._s(_vm.user.address))]),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.logout}},[_c('a',[_vm._v(\"Log out\")])])]):_vm._e(),_vm._v(\" \"),(!_vm.ready)?_c('div',{staticClass:\"hello\"},[(_vm.state == 'loading')?_c('div',[_c('pre',[_vm._v(_vm._s(_vm.status))])]):_vm._e(),_vm._v(\" \"),(_vm.state == 'enableWeb3')?_c('div',[_c('pre',[_vm._v(\"Please enable your Metamask\")]),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.enableWeb3}},[_c('a',[_vm._v(\"\\n          Enable\\n        \")])])]):_vm._e(),_vm._v(\" \"),(_vm.state == 'signWeb3')?_c('div',[_c('pre',[_vm._v(\"Access as \"+_vm._s(_vm.user.address))]),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.signWeb3}},[_c('a',[_vm._v(\"\\n          Access\\n        \")])])]):_vm._e(),_vm._v(\" \"),(_vm.state == 'hasNoWeb3')?_c('div',[_c('pre',[_vm._v(\"Please download Metamask\")]),_vm._v(\" \"),_vm._m(0)]):_vm._e()]):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',[_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://metamask.io\"}},[_vm._v(\"\\n          Download\\n        \")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n],[6]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.1efa4b697d902d72ca5b.js","<template>\n  <div id=\"app\">\n    <header>\n      <span>Trust Tower Defense</span>\n    </header>\n    <main>\n      <router-view></router-view>\n    </main>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app'\n}\n</script>\n\n<style>\nbody {\n  margin: 0;\n  background:#333333;\n  color:#fafafa;\n}\n\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n}\n\nmain {\n  text-align: center;\n  margin-top: 40px;\n}\n\nheader {\n  margin: 0;\n  height: 56px;\n  padding: 0 16px 0 24px;\n  background-color: rgba(0,0,0,0.2);\n  color: #ffffff;\n}\n\nheader span {\n  display: block;\n  position: relative;\n  font-size: 20px;\n  line-height: 1;\n  letter-spacing: .02em;\n  font-weight: 400;\n  box-sizing: border-box;\n  padding-top: 16px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\n  <div id=\"appcontent\">\n    <GameWindow v-bind:user=\"user\" v-if=\"ready\" />\n    <div v-if=\"ready\" class=\"inheader\">\n      <span>{{user.address}}</span>\n      <button v-on:click=\"logout\">\n        <a>Log out</a>\n      </button>\n    </div>\n    <div class=\"hello\" v-if=\"!ready\">\n      <div v-if=\"state == 'loading'\">\n        <pre>{{status}}</pre>\n      </div>\n      <div v-if=\"state == 'enableWeb3'\">\n        <pre>Please enable your Metamask</pre>\n        <button v-on:click=\"enableWeb3\">\n          <a>\n            Enable\n          </a>\n        </button>\n      </div>\n      <div v-if=\"state == 'signWeb3'\">\n        <pre>Access as {{user.address}}</pre>\n        <button v-on:click=\"signWeb3\">\n          <a>\n            Access\n          </a>\n        </button>\n      </div>\n      <div v-if=\"state == 'hasNoWeb3'\">\n        <pre>Please download Metamask</pre>\n        <button>\n          <a target=\"_blank\" href=\"https://metamask.io\">\n            Download\n          </a>\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\n  import GameWindow from './GameWindow.vue'\n\nexport default {\n  name: 'tdd',\n  data () {\n    return {\n      user: false,\n      status: \"\",\n      state: \"\",\n      ready: false\n    }\n  },\n  components: {\n    GameWindow\n  },\n  mounted () {\n    //Check for module dependencies\n    if(!window.Web3)  return this.setError(\"Failed to load web3\", \"hasNoWeb3\");\n    if(!window.wuf)   return this.setError(\"Failed to load user system\");\n    if(!window.PIXI)  return this.setError(\"Failed to load graphics\");\n\n    //If in vuejs dev mode, change port\n    //Todo: dynamic\n    if(window.wuf.host.indexOf(':8080')>-1) window.wuf.host = \"http://localhost:3000\"\n    //Ready to check for user\n\n    let token = wuf.getJWT()\n    if(token) return this.tryLogin(token);\n    this.tryWeb3()\n  },\n  methods: {\n    setError (string, newState) {\n      console.log(string)\n      this.state = newState;\n    },\n    logout () {\n      this.user = false;\n      this.ready = false;\n      wuf.setJWT(null)\n      this.tryWeb3()\n    },\n    tryLogin () {\n      let user = wuf.getJWT()\n      wuf.api('user/' + user.address + '/profile')\n        .then((profile)=>{\n          this.user = profile.user;\n          this.ready = true;\n        })\n        .catch(()=>{\n          this.user = false;\n          this.ready = false;\n        })\n    },\n    enableWeb3 () {\n      wuf.connectWeb3().then(()=>{\n\n      }).catch(()=>{\n\n      })\n    },\n    signWeb3 () {\n      let address = this.user.address;\n\n      wuf.api('user/' + address)\n        .then((response)=>{\n          wuf.sign(address, response.challenge)\n            .then((signature)=>{\n              wuf.api('user/'+address+'/getjwt', address, {\n                signature: signature\n              })\n                .then((response)=>{\n                  if(response.error) {\n                    //Could not get token\n\n                  } else {\n                    //Successfully got token\n                    wuf.setJWT(response)\n                    this.tryLogin()\n                  }\n                })\n                .catch((error)=>{\n                  //API Failed\n                })\n            })\n            .catch(()=>{\n              //Signature failed\n            })\n        })\n        .catch(()=>{\n          //API Failed\n        })\n    },\n    tryWeb3 () {\n      wuf.getWeb3()\n        .then(()=>{\n          this.state = \"enableWeb3\"\n          this.getAddressLoop();\n        })\n        .catch(()=>{\n          this.state = \"hasNoWeb3\"\n        })\n    },\n    getAddressLoop () {\n      if(this.ready) return;\n      console.log(\"Loopering\")\n      if(wuf.hasVisibleAccount()) {\n        this.state = 'signWeb3'\n        this.user = {address:wuf.hasVisibleAccount()}\n      } else {\n        if(!web3) return this.state = \"hasNoWeb3\"\n        this.state = \"enableWeb3\"\n      }\n      setTimeout(this.getAddressLoop, 500)\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\n\nh1, h2 {\n  font-weight: normal;\n}\n\nul {\n  list-style-type: none;\n  padding: 0;\n}\n\n.hello {\n  position:fixed;\n  top:50%;\n  left:50%;\n  transform:translate(-50%,-50%);\n  margin-top:-200px;\n}\n\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\n\nmain {\n  color:#fafafa;\n}\n\nbutton {\n  background:none;\n  padding: none;\n  outline:none; border:none;\n  border: 2px solid #fafafa;\n  border-radius:8px;\n  transition:background .1s;\n  cursor:pointer;\n}\nbutton a {\n  transition:color .1s;\n  text-decoration: none;\n  padding:16px 20px;\n  display:inline-block;\n  box-sizing:border-box;\n  font-weight:600;\n}\n\nbutton:hover {\n  background:#fafafa;\n}\n\nbutton:hover a {\n  color:#333333;\n  font-weight:600;\n}\n\na {\n  color: #fafafa;\n}\n\n.inheader {\n  position:fixed;\n  top:0;\n  right:0;\n  padding-right:32px;\n  font-family:monospace;\n  z-index:2;\n}\n\nheader {\n  z-index:1;\n  position:fixed;\n  top:0;\n  left:0;\n  width:100%;\n}\n\n.inheader button {\n  margin-left:0px;\n  transform:scale(0.7,0.7);\n}\n\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Hello.vue","<template>\r\n    <div id=\"gameview\"></div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'GameWindow',\r\n  props: [\"user\"],\r\n  data () {\r\n    return {\r\n\r\n    }\r\n  },\r\n  mounted () {\r\n    const app = new PIXI.Application({ transparent: true, width: window.innerWidth, height: window.innerHeight, resolution: window.devicePixelRatio || 1, });\r\n    document.querySelector('#gameview').appendChild(app.view);\r\n    ttdgame.setup(app, this)\r\n  },\r\n  methods: {\r\n    \r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n#gameview {\r\n  position:fixed;\r\n  top:0;\r\n  left:0;\r\n  width:100%;\r\n  height:100%;\r\n  z-index:0;\r\n  background:#333333;\r\n}\r\n#gameview canvas {\r\n  display:block;\r\n  width:100%!important;\r\n  height:100%!important;\r\n  image-rendering:pixelated;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/GameWindow.vue","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7ddc62d8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7ddc62d8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 10\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_vm._m(0),_vm._v(\" \"),_c('main',[_c('router-view')],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',[_c('span',[_vm._v(\"Trust Tower Defense\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7ddc62d8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 13\n// module chunks = 0","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Hello from '@/components/Hello'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'Hello',\n      component: Hello\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7d7639cc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Hello.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Hello.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Hello.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7d7639cc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Hello.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Hello.vue\n// module id = 16\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b84c6ad0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./GameWindow.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./GameWindow.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./GameWindow.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b84c6ad0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./GameWindow.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/GameWindow.vue\n// module id = 18\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"gameview\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b84c6ad0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/GameWindow.vue\n// module id = 20\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"appcontent\"}},[(_vm.ready)?_c('GameWindow',{attrs:{\"user\":_vm.user}}):_vm._e(),_vm._v(\" \"),(_vm.ready)?_c('div',{staticClass:\"inheader\"},[_c('span',[_vm._v(_vm._s(_vm.user.address))]),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.logout}},[_c('a',[_vm._v(\"Log out\")])])]):_vm._e(),_vm._v(\" \"),(!_vm.ready)?_c('div',{staticClass:\"hello\"},[(_vm.state == 'loading')?_c('div',[_c('pre',[_vm._v(_vm._s(_vm.status))])]):_vm._e(),_vm._v(\" \"),(_vm.state == 'enableWeb3')?_c('div',[_c('pre',[_vm._v(\"Please enable your Metamask\")]),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.enableWeb3}},[_c('a',[_vm._v(\"\\n          Enable\\n        \")])])]):_vm._e(),_vm._v(\" \"),(_vm.state == 'signWeb3')?_c('div',[_c('pre',[_vm._v(\"Access as \"+_vm._s(_vm.user.address))]),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.signWeb3}},[_c('a',[_vm._v(\"\\n          Access\\n        \")])])]):_vm._e(),_vm._v(\" \"),(_vm.state == 'hasNoWeb3')?_c('div',[_c('pre',[_vm._v(\"Please download Metamask\")]),_vm._v(\" \"),_vm._m(0)]):_vm._e()]):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',[_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://metamask.io\"}},[_vm._v(\"\\n          Download\\n        \")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7d7639cc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Hello.vue\n// module id = 21\n// module chunks = 0"],"sourceRoot":""}